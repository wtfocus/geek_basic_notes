[toc]

## 46 | 概率统计：如何利用朴素贝叶斯算法过滤垃圾短信？

1. 开篇题
	- 如何实现一个简单的垃圾短信过滤功能以及骚扰电话拦截功能？

### 算法解析

#### 基于黑名单的过滤器

1. 使用布隆过滤器，存储 500 万个手机号码。
	- 缺点：
		- 有判错的概率
2. 还有一种时间换空间的方法，我们可以把黑名单存储在服务器端上，把过滤和拦截的核心工作，交给服务器端来做。
	- 缺点：
		- 必须联网
		- 存在网络延迟

#### 基于规则的过滤器

1. 需要有大量的样本数据，并且需要提前区分出来它们是垃圾短信还是非垃圾短信。然后根据这些样本数据进行规则采样。

#### 基于概率统计的过滤器

1. 基础理论
	- 朴素贝叶斯算法
2. 朴素贝叶斯算法公式
	- ![img](imgs/fbef6a760f916941bc3128c2d32540cc.jpg)
3. 垃圾短信的过滤
	- 我们需要把短信抽象成一组计算机可以理解并且方便计算的**特征项**，用这一组特征项代替短信本身，来做垃圾短信过滤。
4. 我们使用概率，来表征一个短信是垃圾短信的可信程度。
	- ![img](imgs/b8f76a5fd26f785055b78ffe08ccfbe7.jpg)
5. 通过朴素贝叶斯公式，将这个概率的求解，分解为其他三个概率的求解。
	- ![img](imgs/39c57b1a8a008e50a9f6cb8b7b9c9bae.jpg)
6. P（W1，W2，W3，…，Wn 同时出现在一条短信中 | 短信是垃圾短信）概率求解
	- ![img](imgs/6c261a3f5312c515cf348cc59a5e73f2.jpg)
7. P（短信是垃圾短信）概率求解
	- 样本中垃圾短信的个数除以总样本短信个数，就是短信是垃圾短信的概率。
8. P（W1，W2，W3，…，Wn 同时出现在一条短信中）概率求解
	- 分别计算同时包含 W1，W2，W3，…，Wn 这 n 个单词的短信，是垃圾短信和非垃圾短信的概率。
	- ![img](imgs/0f0369a955ee8d15bd7d7958829d5b2a.jpg)
	- 我们就可以不用计算 P（W1，W2，W3，…，Wn 同时出现在一条短信中）这一部分的值了，因为计算 p1 与 p2 的时候，都会包含这个概率值的计算，所以在求解 p1 和 p2 倍数（p1/p2）的时候，我们也就不需要这个值。

